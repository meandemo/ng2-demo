<!--
++ header-start
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
++
++ \file      src/app/stickydivdemo/stickydivdemo.html
++
++ \brief     This file belongs to the ng2 tutorial project
++
++ \author    Bernard
++
++ \copyright Copyright ng2goodies 2015
++            Distributed under the MIT License
++            See http://opensource.org/licenses/MIT
++
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
++ header-log
++
++ $Author$
++ $Date$
++ $Revision$
++
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
++ header-end
-->

<!-- demo page for the gg-sticky-div

     ++++++++++++++++++++++++++++++++++++++++++++++++++
     |  fixed header with title                       |  (A)
     ++++++++++++++++++++++++++++++++++++++++++++++++++
     |  scrollable header   #inst0                    |  (B)
     ++++++++++++++++++++++++++++++++++++++++++++++++++
     |  sticky navbar                                 |  (C)
     ++++++++++++++++++++++++++++++++++++++++++++++++++
     | scrollable  | scrollable         | scrollable  |  (F)
(D)  | section     | main               | section     |
     | #inst1      | main               |             |
     |+++++++++++++| content            |+++++++++++++|
     | sticky      |                    | incorrect   |  (G)
     | section     |                    | use of      |
(E)  |             |                    | sticky      |
     |             |                    | div         |
     ++++++++++++++++++++++++++++++++++++++++++++++++++
-->


<!-- (A) fixed header with title -->

<gg-sticky-div maxscroll>
  <div class="w3-container w3-large w3-padding-12 w3-theme-l2">
    <div class="w3-left w3-xxlarge">
      <b>(A) Sticky Div Demo</b>
    </div>
    <div class="w3-right w3-large gg-motto">
      An angular2 demo and tutorial 
    </div>  
  </div>
</gg-sticky-div>

<!-- (B) scrollable header with additional titles -->

<gg-sticky-div #_inst0>
  <div class="w3-container w3-large w3-theme-l3 w3-padding-4">
    <div class="w3-left w3-small">Navigation: host &gt; stickydivdemo
    </div><br>
    <div class="w3-right w3-tiny">Section height = {{_inst0.height()}}px
    </div>
    <div class="w3-left w3-xlarge">(B) This Large Title Scrolls freely
    </div>
  </div>
</gg-sticky-div>

<!-- (C) sticky horizontal navbar -->

<gg-sticky-div [maxscroll]="_inst0.height()">
  <div class="w3-topnav w3-large w3-theme-l4">
    <a href="#">(C)</a>
    <a [routerLink]="['HomeCmp']"><i class="fa fa-home w3-large"></i></a>
    <a href="#">RFU 1</a>
    <a href="#">RFU 2</a>
    <a href="#">RFU 3</a>
  </div>
</gg-sticky-div>

<!-- main panel using the w3-row / w3-col system -->

<div class="w3-row">

   <!-- left column side text  -->

  <div class="w3-col m3 l2">

    <!-- (D) scrollable side text  -->

    <gg-sticky-div #_inst1>
      <div class="w3-container w3-theme-d1">
        <p>
          (D) This header scrolls normally, the side menu below
          scrolls and locks just below the navigation bar
        </p>  
        <div class="w3-right w3-tiny">Section height = {{_inst1.height()}}px
        </div>  
      </div>  
    </gg-sticky-div>

    <!-- (E) sticky side navigation bar  -->

    <gg-sticky-div [maxscroll]="_inst0.height() + _inst1.height()">
      <div class="w3-container w3-theme-d2">
         <ul style="list-style-type: none; padding: 0;">
            <li>(E)</li>
            <li><a href="">NgClass</a></li>
            <li><a href="">NgControlGroup</a></li>
            <li><a href="">NgControlName</a></li>
            <li><a href="">NgControlStatus</a></li>
            <li><a href="">NgFor</a></li>
            <li><a href="">NgForm</a></li>
            <li><a href="">NgFormControl</a></li>
            <li><a href="">NgFormModel</a></li>
            <li><a href="">NgIf</a></li>
            <li><a href="">NgModel</a></li>
            <li><a href="">NgSelectOption</a></li>
            <li><a href="">NgStyle</a></li>
            <li><a href="">NgSwitch</a></li>
            <li><a href="">NgSwitchDefault</a></li>
            <li><a href="">NgSwitchWhen</a></li>
          </ul>  
      </div>
    </gg-sticky-div>
  </div>

  <!-- scrollable main section  -->

  <div class="w3-col m6 l8 w3-theme-d4">
    <div class="w3-container">
      <h2>HTML Code Used on each Section</h2>

      <h3>Section A</h3>
      <p>
        This div is fixed at the top of the viewport. 
        The code for this fixed div is:
      </p>
        <pre class="snippet">
          &lt;gg-sticky-div  maxscroll&gt;
          ...
          &lt;&#x2F;gg-sticky-div&gt;
        </pre>
      <p>
        The presence of the property <code>maxscroll</code> without argument
        forces a fixed div at that location: scrollable content passes under this div.
        You could use <code>maxscroll=0</code> as an alternative syntax.
      </p>

      <h3>Section B</h3>
      <p>
        This div is fully scrollable, but we didn't use <code>div</code>, instead we used
      </p>  
        <pre class="snippet">
          &lt;gg-sticky-div &#x23;_inst0&gt;
          ...
          &lt;&#x2F;gg-sticky-div&gt;
        </pre>
      <p>
        Without maxscroll property, this component behaves like a normal div.
        Note the local variable <code>&x23;_inst0</code>,
        please read-on to see how it is used.
      </p>  

      <h3>Section C</h3>
      <p>
        This navbar has a sticky behavior, we used the following code
      </p>  
        <pre class="snippet">
          &lt;gg-sticky-div &#x5B;maxscroll&#x5D;="_inst0.height()"&gt;
          ...
          &lt;&#x2F;gg-sticky-div&gt;
        </pre>
      <p>
        We used the local variable <code>_inst0</code> to obtain the height of the 
        scrollable div just above. This height gives the scrollable amount 
        of our sticky navbar using the one-way
        property binding syntax <code>&#x5B;maxscroll&#x5D;</code>. 
      </p>  
      <p>
        An alternative way, it to use a normal div for section B: 
      </p>  
        <pre class="snippet">
          &lt;div &#x23;_inst0&gt;
          ...
          &lt;&#x2F;div&gt;
        </pre>
      <p>
        and use the <code>getBoundingClientRect().height</code> function to get the height of the div.
        Don't use <code>clientHeight</code>, which is a rounded value and it leaves a gap between
        two sticky divs. 
      </p>  
        <pre class="snippet">
          &lt;gg-sticky-div &#x5B;maxscroll&#x5D;="_inst0.getBoundingClientRect().height"&gt;
          ...
          &lt;&#x2F;gg-sticky-div&gt;
        </pre>

      <h3>Section D</h3>
      <p>
        Same as Section B, this div is fully scrollable:
      </p>  
        <pre class="snippet">
          &lt;gg-sticky-div &#x23;_inst1&gt;
          ...
          &lt;&#x2F;gg-sticky-div&gt;
        </pre>
      <p>
        We have introduced a second local variable: <code>&#x23;_inst1</code>.
      </p>  

      <h3>Section E</h3>
      <p>
        This navbar has a sticky behavior, we used the following code:
      </p>  
        <pre class="snippet">
          &lt;gg-sticky-div &#x5B;maxscroll&#x5D;="_inst0.height() + _inst1.height()"&gt;
          ...
          &lt;&#x2F;gg-sticky-div&gt;
        </pre>
      <p>
        Two local variables are needed to compute the maxscroll property. It's the
        height of all the scrollable divs above the current one: i.e. section (B) &amp; (D).
      </p>  
 
      <h3>Section F, G and H</h3>
      <p>
        These sections illustrate a common error with <code>gg-sticky-div</code>. The maxscroll value
        of section G is incorrect.
      </p>  

      <h2>TODO List</h2>
      <ol>
        <li>Handle the <code>window.resize</code> event: 
            when the viewport resizes, everything breaks loose, so you will have to
            hit the reload button</li>
      </ol>    


      <h2>Lipsum Code</h2>
      <p>
      You think water moves fast? You should see ice. 
      It moves like it has a mind. 
      Like it knows it killed the world once and got a taste for murder. 
      After the avalanche, it took us a week to climb out. 
      Now, I don't know exactly when we turned on each other, 
      but I know that seven of us survived the slide... and only five made it out.
      Now we took an oath, that I'm breaking now.
      We said we'd say it was the snow that killed the other two, but it wasn't.
      Nature is lethal but it doesn't hold a candle to man.
      </p>
      <p>
      Now that there is the Tec-9, a crappy spray gun from South Miami.
      This gun is advertised as the most popular gun in American crime.
      Do you believe that shit? It actually says that in the little book that comes with it:
      the most popular gun in American crime. Like they're actually proud of that shit.
      </p>
      <p>
      Do you see any Teletubbies in here?
      Do you see a slender plastic tag clipped to my shirt with my name printed on it?
      Do you see a little Asian child with a blank expression on his face sitting
      outside on a mechanical helicopter that shakes when you put quarters in it?
      No? Well, that's what you see at a toy store.
      And you must think you're in a toy store, because you're here shopping for an infant named Jeb.
      </p>
      <p>
      Well, the way they make shows is, they make one show.
      That show's called a pilot.
      Then they show that show to the people who make shows,
      and on the strength of that one show they decide if they're going to make more shows.
      Some pilots get picked and become television programs.
      Some don't, become nothing.
      She starred in one of the ones that became nothing.
      </p>
      <!-- please do not remove this line -->
        <div style="display:none;">
        <a href="http://slipsum.com">lorem ipsum</a></div>
      <!-- end slipsum code -->
      <p>
      Bacon ipsum dolor amet boudin salami swine, pork filet mignon leberkas ribeye.
      Andouille cow cupim, drumstick meatball flank pork chop beef ground round sirloin.
      Picanha boudin swine alcatra ham hock beef bacon landjaeger jerky turkey chuck filet mignon.
      Frankfurter ham ground round turducken, chicken shoulder beef ribs hamburger turkey pork belly cow doner venison jowl.
      Hamburger filet mignon biltong flank brisket beef ribs.
      Ham hock cow capicola leberkas flank, drumstick boudin brisket tongue shank beef alcatra ground round.
      </p>
      <p>
      Pork chop beef pancetta cow flank meatball chuck tail short ribs short loin bresaola.
      Ham hock pastrami kevin boudin ground round, beef ribs prosciutto.
      Filet mignon shankle chuck ribeye.
      Beef ribs tri-tip kielbasa biltong jerky pork loin bresaola t-bone pastrami short ribs ribeye porchetta frankfurter venison.
      Kielbasa leberkas ham landjaeger, shankle meatball beef ribs capicola bacon spare ribs ham hock pig.
      Beef brisket short loin ball tip turducken pork chop tongue kielbasa jowl cupim.
      </p>
      <p>
      Short ribs pork chop chicken biltong bacon, shank pork andouille.
      Rump bacon ball tip filet mignon chicken.
      Beef biltong leberkas shoulder tongue, ball tip spare ribs.
      Picanha boudin flank pork belly, tenderloin ham jerky salami chicken hamburger kevin landjaeger short ribs shankle alcatra.
      Jowl turducken venison, short ribs sirloin beef ribs andouille cow boudin meatloaf.
      </p>
      <p>
      Spare ribs corned beef shank brisket pork belly kielbasa cupim beef flank strip steak.
      Strip steak bresaola filet mignon beef ribs leberkas tri-tip.
      Corned beef meatball shoulder prosciutto tongue, turkey bresaola rump ham short ribs venison.
      Beef ribs ribeye pancetta cow prosciutto salami.
      Fatback brisket sausage tri-tip hamburger leberkas chicken.
      </p>
      <p>
      Chuck capicola tenderloin cow shank.
      Bacon drumstick flank, shankle ribeye salami jowl pig alcatra brisket beef.
      Turducken ribeye short ribs spare ribs.
      Pork belly tri-tip pancetta cupim short ribs porchetta.
      Ground round tenderloin venison, frankfurter turkey beef ham hock kevin strip steak shankle biltong t-bone prosciutto jowl.
      Ground round alcatra pork belly ham hock picanha landjaeger flank short loin porchetta.
      Porchetta bacon filet mignon kevin.
      </p>
    </div>  
  </div>   <!-- end class w3-col m6 l8 -->


  <!-- right side bar -->
  <div class="w3-col m3 l2">

    <!-- a scrollable text div -->

    <div #_inst4 class="w3-container w3-theme-l2">
      (F) The div below shows an incorrect use of a <code>gg-sticky-div</code> component.
      The correct height for a sticky must be the sum of all the heights
      of the scrollable divs above, i.e. Section (B) and Section (F).
      The height must be the exact height, 
      not the rounded one given by <code>clientHeight</code>.   
      <div class="w3-right w3-tiny">Section height = {{_inst4.clientHeight}}px ({{_inst4.getBoundingClientRect().height}}px)
      </div>
    </div>

    <!-- a sticky div with an incorrect maxscroll value ->
      1) we use the clientHeight which is a rounded value.  
         see comment https://developer.mozilla.org/en-US/docs/Web/API/Element/clientHeight
      2) we use only height of section (F) instead of (B)+(F)
     -->

    <gg-sticky-div [maxscroll]="_inst4.clientHeight">
      <div class="w3-container w3-theme-l3">
        (G) The maxscroll parameter for this div has been incorrectly specified.
        As the viewport scrolls, it reveals what is placed under this div.
        Be ready to see some red! 
      </div>
    </gg-sticky-div>
    <div class="w3-container w3-theme-l4">
      (H) Additional Lipsum content
      <p>
      Spare ribs corned beef shank brisket pork belly kielbasa cupim beef flank strip steak.
      Strip steak bresaola filet mignon beef ribs leberkas tri-tip.
      Corned beef meatball shoulder prosciutto tongue, turkey bresaola rump ham short ribs venison.
      Beef ribs ribeye pancetta cow prosciutto salami.
      Fatback brisket sausage tri-tip hamburger leberkas chicken.
      </p>
    </div>
  </div>   <!-- end class w3-col m3 l2 -->
</div>     <!-- end class w3-row --> 
